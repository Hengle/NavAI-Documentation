<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NavAI Documentation: Getting Started</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NavAI Documentation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('gettingStarted.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Getting Started </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This section of the documentation contains guidelines on how to quickly setup a scene for <a class="el" href="namespaceNavAI.html">NavAI</a>. The following subsections assume the reader is familiar with <a href="https://unity3d.com/">Unity Engine</a> and all of it's basic interface features, how to create a scene, place objects and use the inspector and other windows. </p><hr/>
 <h1><a class="anchor" id="install"></a>
Installation</h1>
<p>Before installing <a class="el" href="namespaceNavAI.html">NavAI</a> into your project, it is recommended to first make a backup of all your project files. Once the backup is complete, you can proceed with the following steps.</p>
<p>To install <a class="el" href="namespaceNavAI.html">NavAI</a> into your Unity Project:</p><ul>
<li>Open the project with Unity Engine.</li>
<li>Import the <a class="el" href="namespaceNavAI.html">NavAI</a> package into your project<ul>
<li>Open the Asset Store Window</li>
<li>Select the <a class="el" href="namespaceNavAI.html">NavAI</a> asset</li>
<li>Click Import</li>
</ul>
</li>
<li>The following window should pop up: <div class="image">
<img src="Import.png" alt="Import.png"/>
</div>
 </li>
<li>Select files to import<ul>
<li>Editor Folder: Required. All files within this folder must be selected.</li>
<li>Example Scenes: Optional. Folder containing examples on how to use <a class="el" href="namespaceNavAI.html">NavAI</a>.</li>
<li>Scripts: Required. All files within this folder must be selected</li>
</ul>
</li>
<li>Click Import</li>
</ul>
<p>By default, <a class="el" href="namespaceNavAI.html">NavAI</a> will be installed under a Plugins folder to keep your project organized. To avoid errors, do not move, rename or change <a class="el" href="namespaceNavAI.html">NavAI</a>'s folder paths in any way. Some of <a class="el" href="namespaceNavAI.html">NavAI</a>'s Editor uses hard-coded paths to the Plugins folder, and changing paths of folders used by <a class="el" href="namespaceNavAI.html">NavAI</a> can cause errors. </p><hr/>
 <h1><a class="anchor" id="sceneSetup"></a>
Scene Setup</h1>
<p>Once <a class="el" href="namespaceNavAI.html">NavAI</a> packaged is properly imported into the project, it is possible to set up existing scenes for use with it or to create new scenes for it. This section of the documentation will guide you through creating a new scene and using it with <a class="el" href="namespaceNavAI.html">NavAI</a>.</p>
<ul>
<li>Create a new Scene (Ctrl+N)</li>
<li>Create something for agents to walk over. It can be a terrain, a plane or a box. For this example, we'll be using a Plane. (Hierarchy-&gt;Create-&gt;3D Object-&gt;Plane)<ul>
<li>Scale the plane to (2, 2, 2)</li>
<li>Position the plane at (0, 0, 0)</li>
</ul>
</li>
<li>Create and place boxes as obstacles for the navmesh. (Hierarchy-&gt;Create-&gt;3D Object-&gt;Cube)<ul>
<li>Position, scale and rotate boxes as desired.</li>
</ul>
</li>
<li>Create an Empty Object and name it "Navigation Zone". (Hierarchy-&gt;Create-&gt;Create Empty)</li>
<li>Select the newly created empty object, and click the Add Component Button under the inspector. Add a NavigationZone component to the object. (NavAI/Navigation Zone)</li>
<li>Your scene and hierarchy should look like this (We have added a red material to the boxes to make them more visible, but this step is not necessary):</li>
</ul>
<div class="image">
<img src="SceneCreation.png" alt="SceneCreation.png"/>
<div class="caption">
Plane is colored white, boxes are colored red.</div></div>
 <ul>
<li>Open the Quick Settings Tab under the Navigation Zone inspector<ul>
<li>Set Max Slope to 10 degrees.</li>
<li>Set Step height to 0.25 meters.</li>
<li>Click Generate Mesh</li>
</ul>
</li>
</ul>
<div class="image">
<img src="QuickSettings.png" alt="QuickSettings.png"/>
</div>
 <ul>
<li>You should see the navmesh gizmos being drawn on the scene. Surfaces the AI can walk on are drawn in blue.</li>
</ul>
<div class="image">
<img src="SceneMesh.png" alt="SceneMesh.png"/>
</div>
 <p>Once the mesh is generated, the scene is ready for use with <a class="el" href="namespaceNavAI.html">NavAI</a>. Additional changes can be made to the way the mesh is generated, increasing it's resolution, precision as well as other properties. For a complete list of the advanced settings, read the Advanced Settings section of this document.</p>
<hr/>
 <h1><a class="anchor" id="addingAgents"></a>
Adding Agents to the Scene</h1>
<p>The next step is adding agents to the scene. Agents are intelligent entities that can navigate around the environment while avoid collisions with other objects.</p>
<p>Adding an agent to the scene, is as simple as adding an Agent component to a scene object. For this tutorial, we'll be using the Zombunny model provided by Unity in one of their examples as an agent.</p>
<p>The Zombunny model is included by default on the <a class="el" href="namespaceNavAI.html">NavAI</a> Example Scenes folder. To avoid the need of putting the Zombunny pieces together (model, textures, shaders, etc), a prefab is available under the NavAI/Example Scenes/Prefabs/Agents folder. The prefab we'll be using is named "Zombunny".</p>
<ul>
<li>Drag and drop the prefab located in "Plugins/NavAI/Example Scenes/Prefabs/Agents/Zombunny" into the scene. You can add as many Zombunnies as you like to the scene.</li>
</ul>
<div class="image">
<img src="Zombunny.png" alt="Zombunny.png"/>
</div>
 <p>The provided prefab has a few components included in it:</p>
<ul>
<li>Animator:<ul>
<li>Component responsible for the agent animations. This component is not required by <a class="el" href="namespaceNavAI.html">NavAI</a>, but you probably want it to play the agent animations.</li>
</ul>
</li>
<li>Capsule Collider:<ul>
<li>Physics collider used for the object. This component is not required by <a class="el" href="namespaceNavAI.html">NavAI</a>, but you probably want it for your game physics.</li>
</ul>
</li>
<li>Zombunny Anim Controller:<ul>
<li>Custom script used to pass parameters to the Animator. This is not required by <a class="el" href="namespaceNavAI.html">NavAI</a>, but if you're using an Animator, you probably want a script to pass it some parameters. This example script is a very simple code that tells the animator to switch between the Idle and Walk animations, and also pass the animation speed parameter to it.</li>
</ul>
</li>
<li>Agent<ul>
<li>This is the component used by <a class="el" href="namespaceNavAI.html">NavAI</a> to identify Agents. The basic parameters of this component are the agent movement speed, rotation speed and collision radius. For more information on the Agent component variables, read the Classes/Agent section of this document.</li>
</ul>
</li>
</ul>
<p>The Agent component is the only component required by <a class="el" href="namespaceNavAI.html">NavAI</a> for the agents, but the other components are included in the prefab to give an example of how to properly setup your game characters.</p>
<p>For the purpose of this tutorial, there is no need to change any parameter of the Agent component, but you can change them as you like.</p>
<p>Adding the Agent component to an object of the scene is enough to make the object ready to navigate the environment as an intelligent agent. </p><hr/>
 <h1><a class="anchor" id="controllingAgents"></a>
Controlling Agents</h1>
<p>Now that we have agents ready for use on the scene, we need to control these agents, telling them where to go.</p>
<p>The imported <a class="el" href="namespaceNavAI.html">NavAI</a> package includes a few simple scripts for controlling agents. For this tutorial, we'll be using the AgentMouseController.cs script located at "Plugins/NavAI/Example Scenes/Scripts/Controllers/AgentMouseController.cs"</p>
<ul>
<li>Drag and drop the AgentMouseController.cs into the scene agent you want to control.</li>
</ul>
<div class="image">
<img src="AgentMouseController.png" alt="AgentMouseController.png"/>
</div>
 <ul>
<li>Select the Main Camera on the Hierarchy and adjust the camera position and angle so that it can view the scene (Ctrl+Shift+F)</li>
<li>Hit Play</li>
</ul>
<p>While playing, the agent will continuously follow the mouse through the environment, calculating paths and avoiding collisions with objects. The AgentMouseController.cs script automatically adds a CameraController.cs componenet to the camera. The camera can be controlled using the middle mouse button, right mouses button and the keyboard arrow keys.</p>
<p>Now let us take a look at the AgentMouseController.cs script to understand how to control an agent. </p><pre class="fragment">public Agent agent;                         //  Agent component.
public CameraController camController;      //  Main camera's controller.
</pre><p>The first lines of the script contain the agent and the camController variables. The agent variables is a reference to the Agent component of the gameObject, and the camControllere is a reference to the CameraController componenet of the Main Camera. The agent variable will be used to pass commands to the Agent. The camController variable, will be used to get the mouse position in the world from the camera.</p>
<p>Now let us take a loot at the Start() method: </p><pre class="fragment">void Start()
{
    /// Get the Agent component.
    agent = GetComponent&lt;Agent&gt;();

    if (agent == null)
    {
        Debug.LogWarning("Agent not found!");
    }

    /// Get the camera controller component.
    if (Camera.main != null)
    {
        camController = Camera.main.GetComponent&lt;CameraController&gt;();
        if(camController == null)
        {
            camController = Camera.main.gameObject.AddComponent&lt;CameraController&gt;();
        }
    }

    if (camController == null)
    {
        Debug.LogWarning("Camera Controller not found!");
    }
}
</pre><p>On the Start() function, we get the agent and camController variables.</p>
<p>Next, and most important, is the Update() method, in which we'll be giving movement orders to the Agent: </p><pre class="fragment">void Update()
{
    /// Ignore if cameraController or agent is null.
    if (camController == null || agent == null)
    {
        return;
    }

    /// Get the current mouse world position.
    Vector3 mousePosition = camController.GetMousePosition();

    /// Set the agent destination to the mouse position.
    agent.SetDestination(mousePosition);
}
</pre><p>Giving a basic movement order to the agent consists of two steps:</p><ol type="1">
<li>Getting the movement destination.</li>
<li>Sending the movement command.</li>
</ol>
<p>The movement destination used for this controller is the world position of the mouse. We get this Vector3 with the command: </p><pre class="fragment">Vector3 mousePosition camController.GetMousePosition();
</pre><p>Ordering the agent to move to that position is as simple as setting it's destination to that point: </p><pre class="fragment">agent.SetDestination(mousePosition);
</pre><p>There are more advanced commands that can be given to the agent, such as ordering it to follow another agent, setting it's desired velocity and other commands. To a complete list of the Agent's methods, read the Agent Class documentation. </p><hr/>
 <h1><a class="anchor" id="addingObstacles"></a>
Adding Dynamic Obstacles</h1>
<p>To add an obstacle that can move at runtime, it is needed to add an Obstacle componenet to an object and configure it properly. This can be done with a few steps:</p>
<ul>
<li>Create an object you want to use as the dynamic obstacle. We'll use a Sphere for this example (Hierarchy-&gt;Create-&gt;3D Object-&gt;Sphere).</li>
<li>Position and Scale the sphere as desired.</li>
<li>Add a CircleObstacle componenet to the gameObject (Add Componenet/NavAI/Circle Obstacle).</li>
<li>Change the Obstacle Type from Static to Dynamic</li>
<li>Set the Carve Type to Carve Triangulation</li>
<li>Configure the Scale and Number of Vertices as desired.</li>
</ul>
<div class="image">
<img src="Sphere.png" alt="Sphere.png"/>
</div>
 <p>The dyanmic Obstacle can be moved using the transform tools provided by Unity. You can move the sphere around the scene and you should see the navmesh automatically update as the obstacle changes its position (If not in play-mode, automatic navmesh update will require the Execute In Edit Mode option turned on under the Advanced Settings of the Navigation Zone (AdvancedSettings/NavMesh/Execute In Edit Mode).</p>
<p>A custom script can be used to move the obstacle by changing it's transform over time. There is no need to access the Obstacle's properties or methods, everything will update automatically as the transform of the Obstacle changes. To delete the Obstacle, you can simply destroy it.</p>
<hr/>
 <h1><a class="anchor" id="additionaSettings"></a>
Additional Settings</h1>
<p>Additional settings for the NavMesh, the Agents and everything else can be found under the Navigation Zone Advanced Settings. To edit these settings, select the object containing the Navigation Zone component and open the Advanced Settings tab under the Inspector.</p>
<p>For more detailed information on how to use the advanced settings, read the Advanced Settings section. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
